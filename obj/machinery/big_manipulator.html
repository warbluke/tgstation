<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/big_manipulator - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/big_manipulator.html#var">Var Details</a> - <a href="obj/machinery/big_manipulator.html#proc">Proc Details</a></header><main><h1>big_manipulator <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/big_manipulator.html">big_manipulator</a></aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L13"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 13"></a></h1><p>Manipulator Core. Main part of the mechanism that carries out the entire process.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/allowed_priority_settings">allowed_priority_settings</a></th><td>What priority settings are available to use at the moment.
We also use this list to sort priorities from ascending to descending.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/allowed_types_to_pick_up">allowed_types_to_pick_up</a></th><td>List where we can set selected type. Taking items by Initialize.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/containment_obj">containment_obj</a></th><td>Obj inside manipulator.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/delay_value">delay_value</a></th><td>Ui number that shows manipulator delay.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/drop_here">drop_here</a></th><td>Dir to get turf where we drop items.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/drop_item_after_use">drop_item_after_use</a></th><td>Here some ui setting we can on/off:
If activated: after item was used manipulator will also drop it.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/drop_turf">drop_turf</a></th><td>Turf where we drop items.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/filter_obj">filter_obj</a></th><td>Obj used as filter</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/id_locked">id_locked</a></th><td>Is manipulator locked by identity id.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/locked_by_this_id">locked_by_this_id</a></th><td>weakref to id that locked this manipualtor.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/manipulate_mode">manipulate_mode</a></th><td>How will manipulator manipulate the object? drop it out by default.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/manipulator_hand">manipulator_hand</a></th><td>Other manipulator component.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/manipulator_throw_range">manipulator_throw_range</a></th><td>Var for throw item mode: changes the range from which the manipulator throws an object.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/min_working_speed">min_working_speed</a></th><td>Min time manipulator can have in delay. Changing on upgrade.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/monkey_worker">monkey_worker</a></th><td>Poor monkey that needs to use mode works.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/on">on</a></th><td>Activate mechanism.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/on_button_cutted">on_button_cutted</a></th><td>Variable for the wire that disables the power button if the wire is cut.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/on_work">on_work</a></th><td>When manipulator already working with item inside he don't take any new items.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/only_highest_priority">only_highest_priority</a></th><td>If activated: will select only 1 priority and will not continue to look at the priorities below.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/power_use_lvl">power_use_lvl</a></th><td>Using high tier manipulators speeds up big manipulator and requires more energy.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/priority_settings_for_drop">priority_settings_for_drop</a></th><td>Priority settings depending on the manipulator drop mode that are available to this manipulator. Filled during Initialize.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/priority_settings_for_use">priority_settings_for_use</a></th><td>Priority settings depending on the manipulator use mode that are available to this manipulator. Filled during Initialize.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/selected_type">selected_type</a></th><td>Selected type that manipulator will take for take and drop loop.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/selected_type_by_number">selected_type_by_number</a></th><td>Just a lazy number to change selected_type type in array.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/take_here">take_here</a></th><td>Dir to get turf where we take items.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/take_turf">take_turf</a></th><td>Turf where we take items.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/use_with_empty_hand">use_with_empty_hand</a></th><td>Allowe monkey to do use mode with empty hand.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/working_speed">working_speed</a></th><td>How many time manipulator need to take and drop item.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/change_delay">change_delay</a></th><td>Changes manipulator working speed time.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/change_mode">change_mode</a></th><td>Proc called when we changing item interaction mode.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/change_throw_range">change_throw_range</a></th><td>Changes range with which the manipulator throws objects, from 1 to 7.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/change_what_take_type">change_what_take_type</a></th><td>Changes the type of objects that the manipulator will pick up</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/check_end_of_use">check_end_of_use</a></th><td>Check what we gonna do next with our item. Drop it or use again.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/check_next_move">check_next_move</a></th><td>2.5 take and drop proc from [take and drop procs loop]:
Choose what we will do with our item by checking the manipulate_mode.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/check_similarities">check_similarities</a></th><td>Using on change_priority: looks for a setting with the same number that we set earlier and reduce it.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/create_manipulator_hand">create_manipulator_hand</a></th><td>Creat manipulator hand effect on manipulator core.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/do_rotate_animation">do_rotate_animation</a></th><td>Rotates manipulator hand 90 degrees.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/drop_containment_item">drop_containment_item</a></th><td>Drop item that manipulator is manipulating.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/drop_thing">drop_thing</a></th><td>3.1 take and drop proc from [take and drop procs loop]:
Drop our item.
Checks the priority to drop item not only ground but also in the storage.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/end_work">end_work</a></th><td>Fourth and last take and drop proc from [take and drop procs loop]:
Finishes work and begins to look for a new item for [take and drop procs loop].</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/finish_manipulation">finish_manipulation</a></th><td>End of thirds take and drop proc from [take and drop procs loop]:
Starts manipulator hand backward animation.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/finish_rotate_animation">finish_rotate_animation</a></th><td>Rotates manipulator hand from 90 degrees to 180 or 0 if backward.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/is_work_check">is_work_check</a></th><td>Pre take and drop proc from [take and drop procs loop]:
Check if we can start take and drop loop</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/manipulator_lvl">manipulator_lvl</a></th><td>Check servo tier and change manipulator speed, power_use and colour.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/on_hand_qdel">on_hand_qdel</a></th><td>Deliting hand will destroy our manipulator core.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/press_on">press_on</a></th><td>Proc call when we press on/off button</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/rotate_big_hand">rotate_big_hand</a></th><td>Changing take and drop turf dirs and also changing manipulator hand sprite dir.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/search_type_by_priority_in_drop_turf">search_type_by_priority_in_drop_turf</a></th><td>Proc thet return item by type in priority list. Selects item and increasing priority number if don't found req type.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/set_up_priority_settings">set_up_priority_settings</a></th><td>Init priority settings list for all modes.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/start_work">start_work</a></th><td>Second take and drop proc from [take and drop procs loop]:
Taking our item and start manipulator hand rotate animation.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/take_and_drop_turfs_check">take_and_drop_turfs_check</a></th><td>Changing take and drop turf tiles when we anchore manipulator or if manipulator not in turf.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/throw_thing">throw_thing</a></th><td>3.3 take and drop proc from [take and drop procs loop]:
Throw item away!!!</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/try_press_on">try_press_on</a></th><td>Proc that check if button not cutted when we press on button.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/try_take_thing">try_take_thing</a></th><td>First take and drop proc from [take and drop procs loop]:
Check if we can take item from take_turf to work with him. This proc also calling from ATOM_ENTERED signal.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/update_priority_list">update_priority_list</a></th><td>Update priority list in ui. Creating new list and sort it by priority number.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/use_thing">use_thing</a></th><td>3.2 take and drop proc from [take and drop procs loop]:
Use our item on random atom in drop turf contents then
Starts manipulator hand backward animation by defualt, but
You can also set the setting in ui so that it does not return to its privious position and continues to use object in its hand.
Checks the priority so that you can configure which object it will select: mob/obj/turf.
Also can use filter to interact only with obj in filter.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/allowed_priority_settings"><aside class="declaration">var </aside>allowed_priority_settings <aside>– /list</aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L50"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 50"></a></h3><p>What priority settings are available to use at the moment.
We also use this list to sort priorities from ascending to descending.</p><h3 id="var/allowed_types_to_pick_up"><aside class="declaration">var </aside>allowed_types_to_pick_up <aside>– /list</aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L79"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 79"></a></h3><p>List where we can set selected type. Taking items by Initialize.</p><h3 id="var/containment_obj"><aside class="declaration">var </aside>containment_obj <aside>– /<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L52"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 52"></a></h3><p>Obj inside manipulator.</p><h3 id="var/delay_value"><aside class="declaration">var </aside>delay_value <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L25"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 25"></a></h3><p>Ui number that shows manipulator delay.</p><h3 id="var/drop_here"><aside class="declaration">var </aside>drop_here <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L37"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 37"></a></h3><p>Dir to get turf where we drop items.</p><h3 id="var/drop_item_after_use"><aside class="declaration">var </aside>drop_item_after_use <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L65"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 65"></a></h3><p>Here some ui setting we can on/off:
If activated: after item was used manipulator will also drop it.</p><h3 id="var/drop_turf"><aside class="declaration">var </aside>drop_turf <aside>– /<a href="turf.html">turf</a></aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L41"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 41"></a></h3><p>Turf where we drop items.</p><h3 id="var/filter_obj"><aside class="declaration">var </aside>filter_obj <aside>– /<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L54"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 54"></a></h3><p>Obj used as filter</p><h3 id="var/id_locked"><aside class="declaration">var </aside>id_locked <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L60"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 60"></a></h3><p>Is manipulator locked by identity id.</p><h3 id="var/locked_by_this_id"><aside class="declaration">var </aside>locked_by_this_id <aside>– /<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L58"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 58"></a></h3><p>weakref to id that locked this manipualtor.</p><h3 id="var/manipulate_mode"><aside class="declaration">var </aside>manipulate_mode <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L43"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 43"></a></h3><p>How will manipulator manipulate the object? drop it out by default.</p><h3 id="var/manipulator_hand"><aside class="declaration">var </aside>manipulator_hand <aside>– /<a href="obj.html">obj</a>/<a href="obj/effect/big_manipulator_hand.html">effect/big_manipulator_hand</a></aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L62"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 62"></a></h3><p>Other manipulator component.</p><h3 id="var/manipulator_throw_range"><aside class="declaration">var </aside>manipulator_throw_range <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L71"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 71"></a></h3><p>Var for throw item mode: changes the range from which the manipulator throws an object.</p><h3 id="var/min_working_speed"><aside class="declaration">var </aside>min_working_speed <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L23"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 23"></a></h3><p>Min time manipulator can have in delay. Changing on upgrade.</p><h3 id="var/monkey_worker"><aside class="declaration">var </aside>monkey_worker <aside>– /<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L56"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 56"></a></h3><p>Poor monkey that needs to use mode works.</p><h3 id="var/on"><aside class="declaration">var </aside>on <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L33"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 33"></a></h3><p>Activate mechanism.</p><h3 id="var/on_button_cutted"><aside class="declaration">var </aside>on_button_cutted <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L77"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 77"></a></h3><p>Variable for the wire that disables the power button if the wire is cut.</p><h3 id="var/on_work"><aside class="declaration">var </aside>on_work <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L31"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 31"></a></h3><p>When manipulator already working with item inside he don't take any new items.</p><h3 id="var/only_highest_priority"><aside class="declaration">var </aside>only_highest_priority <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L69"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 69"></a></h3><p>If activated: will select only 1 priority and will not continue to look at the priorities below.</p><h3 id="var/power_use_lvl"><aside class="declaration">var </aside>power_use_lvl <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L29"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 29"></a></h3><p>Using high tier manipulators speeds up big manipulator and requires more energy.</p><h3 id="var/priority_settings_for_drop"><aside class="declaration">var </aside>priority_settings_for_drop <aside>– /list</aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L45"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 45"></a></h3><p>Priority settings depending on the manipulator drop mode that are available to this manipulator. Filled during Initialize.</p><h3 id="var/priority_settings_for_use"><aside class="declaration">var </aside>priority_settings_for_use <aside>– /list</aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L47"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 47"></a></h3><p>Priority settings depending on the manipulator use mode that are available to this manipulator. Filled during Initialize.</p><h3 id="var/selected_type"><aside class="declaration">var </aside>selected_type <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L73"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 73"></a></h3><p>Selected type that manipulator will take for take and drop loop.</p><h3 id="var/selected_type_by_number"><aside class="declaration">var </aside>selected_type_by_number <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L75"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 75"></a></h3><p>Just a lazy number to change selected_type type in array.</p><h3 id="var/take_here"><aside class="declaration">var </aside>take_here <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L35"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 35"></a></h3><p>Dir to get turf where we take items.</p><h3 id="var/take_turf"><aside class="declaration">var </aside>take_turf <aside>– /<a href="turf.html">turf</a></aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L39"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 39"></a></h3><p>Turf where we take items.</p><h3 id="var/use_with_empty_hand"><aside class="declaration">var </aside>use_with_empty_hand <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L67"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 67"></a></h3><p>Allowe monkey to do use mode with empty hand.</p><h3 id="var/working_speed"><aside class="declaration">var </aside>working_speed <aside>– </aside> <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L27"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 27"></a></h3><p>How many time manipulator need to take and drop item.</p><h2 id="proc">Proc Details</h2><h3 id="proc/change_delay"><aside class="declaration">proc </aside>change_delay<aside>(new_delay)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L681"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 681"></a></aside></h3><p>Changes manipulator working speed time.</p><h3 id="proc/change_mode"><aside class="declaration">proc </aside>change_mode<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L592"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 592"></a></aside></h3><p>Proc called when we changing item interaction mode.</p><h3 id="proc/change_throw_range"><aside class="declaration">proc </aside>change_throw_range<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L675"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 675"></a></aside></h3><p>Changes range with which the manipulator throws objects, from 1 to 7.</p><h3 id="proc/change_what_take_type"><aside class="declaration">proc </aside>change_what_take_type<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L667"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 667"></a></aside></h3><p>Changes the type of objects that the manipulator will pick up</p><h3 id="proc/check_end_of_use"><aside class="declaration">proc </aside>check_end_of_use<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/my_item, item_was_used)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L524"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 524"></a></aside></h3><p>Check what we gonna do next with our item. Drop it or use again.</p><h3 id="proc/check_next_move"><aside class="declaration">proc </aside>check_next_move<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target, hand_is_empty)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L426"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 426"></a></aside></h3><p>2.5 take and drop proc from [take and drop procs loop]:
Choose what we will do with our item by checking the manipulate_mode.</p><h3 id="proc/check_similarities"><aside class="declaration">proc </aside>check_similarities<aside>(number_we_minus)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L791"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 791"></a></aside></h3><p>Using on change_priority: looks for a setting with the same number that we set earlier and reduce it.</p><h3 id="proc/create_manipulator_hand"><aside class="declaration">proc </aside>create_manipulator_hand<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L295"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 295"></a></aside></h3><p>Creat manipulator hand effect on manipulator core.</p><h3 id="proc/do_rotate_animation"><aside class="declaration">proc </aside>do_rotate_animation<aside>(backward)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L567"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 567"></a></aside></h3><p>Rotates manipulator hand 90 degrees.</p><h3 id="proc/drop_containment_item"><aside class="declaration">proc </aside>drop_containment_item<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L659"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 659"></a></aside></h3><p>Drop item that manipulator is manipulating.</p><h3 id="proc/drop_thing"><aside class="declaration">proc </aside>drop_thing<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L441"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 441"></a></aside></h3><p>3.1 take and drop proc from [take and drop procs loop]:
Drop our item.
Checks the priority to drop item not only ground but also in the storage.</p><h3 id="proc/end_work"><aside class="declaration">proc </aside>end_work<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L562"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 562"></a></aside></h3><p>Fourth and last take and drop proc from [take and drop procs loop]:
Finishes work and begins to look for a new item for [take and drop procs loop].</p><h3 id="proc/finish_manipulation"><aside class="declaration">proc </aside>finish_manipulation<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L554"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 554"></a></aside></h3><p>End of thirds take and drop proc from [take and drop procs loop]:
Starts manipulator hand backward animation.</p><h3 id="proc/finish_rotate_animation"><aside class="declaration">proc </aside>finish_rotate_animation<aside>(backward)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L572"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 572"></a></aside></h3><p>Rotates manipulator hand from 90 degrees to 180 or 0 if backward.</p><h3 id="proc/is_work_check"><aside class="declaration">proc </aside>is_work_check<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L371"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 371"></a></aside></h3><p>Pre take and drop proc from [take and drop procs loop]:
Check if we can start take and drop loop</p><h3 id="proc/manipulator_lvl"><aside class="declaration">proc </aside>manipulator_lvl<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L301"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 301"></a></aside></h3><p>Check servo tier and change manipulator speed, power_use and colour.</p><h3 id="proc/on_hand_qdel"><aside class="declaration">proc </aside>on_hand_qdel<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L364"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 364"></a></aside></h3><p>Deliting hand will destroy our manipulator core.</p><h3 id="proc/press_on"><aside class="declaration">proc </aside>press_on<aside>(pressed_by)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L639"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 639"></a></aside></h3><p>Proc call when we press on/off button</p><h3 id="proc/rotate_big_hand"><aside class="declaration">proc </aside>rotate_big_hand<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L343"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 343"></a></aside></h3><p>Changing take and drop turf dirs and also changing manipulator hand sprite dir.</p><h3 id="proc/search_type_by_priority_in_drop_turf"><aside class="declaration">proc </aside>search_type_by_priority_in_drop_turf<aside>(/list/priority_list, empty_hand)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L623"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 623"></a></aside></h3><p>Proc thet return item by type in priority list. Selects item and increasing priority number if don't found req type.</p><h3 id="proc/set_up_priority_settings"><aside class="declaration">proc </aside>set_up_priority_settings<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L99"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 99"></a></aside></h3><p>Init priority settings list for all modes.</p><h3 id="proc/start_work"><aside class="declaration">proc </aside>start_work<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target, hand_is_empty)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L415"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 415"></a></aside></h3><p>Second take and drop proc from [take and drop procs loop]:
Taking our item and start manipulator hand rotate animation.</p><h3 id="proc/take_and_drop_turfs_check"><aside class="declaration">proc </aside>take_and_drop_turfs_check<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L334"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 334"></a></aside></h3><p>Changing take and drop turf tiles when we anchore manipulator or if manipulator not in turf.</p><h3 id="proc/throw_thing"><aside class="declaration">proc </aside>throw_thing<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L539"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 539"></a></aside></h3><p>3.3 take and drop proc from [take and drop procs loop]:
Throw item away!!!</p><h3 id="proc/try_press_on"><aside class="declaration">proc </aside>try_press_on<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L652"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 652"></a></aside></h3><p>Proc that check if button not cutted when we press on button.</p><h3 id="proc/try_take_thing"><aside class="declaration">proc </aside>try_take_thing<aside>(/<a href="datum.html">datum</a>/source, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L389"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 389"></a></aside></h3><p>First take and drop proc from [take and drop procs loop]:
Check if we can take item from take_turf to work with him. This proc also calling from ATOM_ENTERED signal.</p><h3 id="proc/update_priority_list"><aside class="declaration">proc </aside>update_priority_list<aside>()  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L607"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 607"></a></aside></h3><p>Update priority list in ui. Creating new list and sort it by priority number.</p><h3 id="proc/use_thing"><aside class="declaration">proc </aside>use_thing<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target, hand_is_empty)  <a href="https://github.com/warbluke/tgstation/blob/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1/code/game/machinery/big_manipulator.dm#L464"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 464"></a></aside></h3><p>3.2 take and drop proc from [take and drop procs loop]:
Use our item on random atom in drop turf contents then
Starts manipulator hand backward animation by defualt, but
You can also set the setting in ui so that it does not return to its privious position and continues to use object in its hand.
Checks the priority so that you can configure which object it will select: mob/obj/turf.
Also can use filter to interact only with obj in filter.</p></main><footer>tgstation.dme <a href="https://github.com/warbluke/tgstation/tree/e31bbd04ecfb501ce074a72c392a0aa41c6cdcd1">e31bbd0</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>